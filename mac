#!/usr/bin/env bash

echo "Installing Homebrew, a good OS X package manager ..."
  /usr/bin/ruby -e "$(curl -fsSL https://raw.github.com/gist/323731)"
  brew update

echo "Installing MySQL, our standard database server."
  brew install mysql
  # @TODO: Install MySQL.
  unset TMPDIR
  mysql_install_db --verbose --user=`whoami` --basedir="$(brew --prefix mysql)" --datadir=/usr/local/var/mysql --tmpdir=/tmp

echo "Starting MySQL."
  mysql.server start

echo "Installing innotop to give you insight into MySQL."
  sudo cpan -i DBD::mysql
  brew install innotop

echo "Installing htop to view processes."
  brew install htop

echo "Installing RVM (Ruby Version Manager) ..."
  curl -s https://rvm.beginrescueend.com/install/rvm -o rvm-installer ; chmod +x rvm-installer ; ./rvm-installer --version latest
  echo "
# RVM
[[ -s '/Users/`whoami`/.rvm/scripts/rvm' ]] && source '/Users/`whoami`/.rvm/scripts/rvm'" >> ~/.bashrc
  source ~/.bashrc

bash < <(curl -s https://raw.github.com/treehouseagency/laptop/master/ruby)
